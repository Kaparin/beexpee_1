import _objectSpread from '@babel/runtime/helpers/esm/objectSpread2';
import Path__default from 'path';
import withPreconstruct from '@preconstruct/next';

const config = withPreconstruct({
  webpack(config) {
    config.resolve.alias = _objectSpread(_objectSpread({}, config.resolve.alias), {}, {
      react: Path__default.dirname(require.resolve('react/package.json')),
      'react-dom': Path__default.dirname(require.resolve('react-dom/package.json')),
      '@keystone-next/admin-ui': Path__default.dirname(require.resolve('@keystone-next/admin-ui/package.json'))
    });
    config.externals = [...config.externals, /@keystone-next\/keystone/, /prisma[\/\\]generated-client/];
    return config;
  }

});

export { config };
